
<div class="contentofdashboard" id="contentarea">
  <div class="form-container">
    <h4>{{ isEditMode ? 'Edit Property' : 'Add Property' }}</h4>
    <form (ngSubmit)="onFormSubmit()" [formGroup]="addListingForm">
      <div class="mb-2 row">
        <div class="col-md-6">
          <label class="form-label" for="propertyType"></label>
          <select class="form-control"
                  id="propertyType"
                  name="propertyType"
                  formControlName="propertyType">
            <option value="" disabled>Select Property Type</option>
            <option value="House">House</option>
            <option value="Apartment">Apartment</option>
            <option value="PG">PG</option>
          </select>
          <small *ngIf="addListingForm.get('propertyType')?.touched && addListingForm.get('propertyType')?.invalid" class="text-danger">
            Property type is required.
          </small>
        </div>

        <div class="col-md-6">
          <label for="price" class="form-label"></label>
          <input type="number"
                 class="form-control"
                 id="price"
                 formControlName="price"
                 placeholder="Rent(price)" />
          <small *ngIf="addListingForm.get('price')?.touched && addListingForm.get('price')?.invalid" class="text-danger">
            Valid property price is required (must be greater than 0).
          </small>
        </div>
      </div>
      <div class="mb-2 row">
        <div class="col-md-4">
          <label for="street" class="form-label"></label>
          <input type="text"
                 class="form-control"
                 id="street"
                 formControlName="street"
                 placeholder="street" />
          <small *ngIf="addListingForm.get('street')?.touched && addListingForm.get('street')?.invalid" class="text-danger">
            street address is required.
          </small>
        </div>
        <div class="col-md-4">
          <label for="city" class="form-label"></label>
          <input type="text"
                 class="form-control"
                 id="city"
                 formControlName="city"
                 placeholder="city" />
          <small *ngIf="addListingForm.get('city')?.touched && addListingForm.get('city')?.invalid" class="text-danger">
            city name is required.
          </small>
        </div>
        <div class="col-md-4">
          <label for="pincode" class="form-label"></label>
          <input type="text"
                 class="form-control"
                 id="pincode"
                 formControlName="pincode"
                 placeholder="pincode" />
          <small *ngIf="addListingForm.get('pincode')?.touched && addListingForm.get('pincode')?.invalid" class="text-danger">
            Valid pincode is required (6 digits).
          </small>
        </div>
      </div>
      <div class="mb-2 row">
        <div class="col-md-8">
          <label for="description" class="form-label"></label>
          <textarea class="form-control"
                    id="description"
                    formControlName="description"
                    rows="3"
                    placeholder="Property description"></textarea>

          <!-- Validation error message -->
          <small *ngIf="addListingForm.get('description')?.touched && addListingForm.get('description')?.invalid"
                 class="text-danger">
            A description of at least 10 characters is required.
          </small>
        </div>
        <!-- Rental Terms Section (Optional) -->
        <div class="col-md-4">
          <label for="rentalTerms" class="form-label">
            <span class="text-muted"></span>
          </label>
          <textarea class="form-control"
                    id="rentalTerms"
                    formControlName="rentalTerms"
                    rows="3"
                    placeholder="Rental Terms (optional)"></textarea>
          <small *ngIf="addListingForm.get('rentalTerms')?.touched && addListingForm.get('rentalTerms')?.invalid" class="text-danger">
            Please provide valid rental terms if needed.
          </small>
        </div>
      </div>
      <div class="mb-2 row">
        <div class="col-md-4">
          <label for="bedrooms" class="form-label"></label>
          <input type="number"
                 class="form-control"
                 id="bedrooms"
                 formControlName="bedrooms"
                 placeholder="Number of bedrooms"
                 min="1"
                 required>
          <small *ngIf="addListingForm.get('bedrooms')?.touched && addListingForm.get('bedrooms')?.invalid" class="text-danger">
            Please enter a valid number of bedrooms (at least 1).
          </small>
        </div>

        <div class="col-md-4">
          <label for="rooms" class="form-label"></label>
          <input type="number"
                 class="form-control"
                 id="rooms"
                 formControlName="rooms"
                 placeholder="Number of rooms"
                 min="1"
                 required>
          <small *ngIf="addListingForm.get('rooms')?.touched && addListingForm.get('rooms')?.invalid" class="text-danger">
            Please enter a valid number of rooms (at least 1).
          </small>
        </div>

        <div class="col-md-4">
          <label for="area" class="form-label"></label>
          <input type="number"
                 class="form-control"
                 id="area"
                 formControlName="area"
                 placeholder="area (sqft)"
                 min="100"
                 required>
          <small *ngIf="addListingForm.get('area')?.touched && addListingForm.get('area')?.invalid" class="text-danger">
            area should be at least 100 sqft.
          </small>
        </div>
      </div>
      <div class="mb-2 row">
        <div class="col-md-4">
          <label for="furnished" class="form-label">furnished</label>
          <select class="form-control"
                  id="furnished"
                  formControlName="furnished"
                  required>
            <option value="No">No</option>
            <option value="Yes">Yes</option>
          </select>
          <small *ngIf="addListingForm.get('furnished')?.touched && addListingForm.get('furnished')?.invalid" class="text-danger">
            furnished status is required.
          </small>
        </div>

        <div class="col-md-4">
          <label for="mobileNumber" class="form-label">Mobile Number</label>
          <input type="text"
                 id="mobileNumber"
                 class="form-control"
                 placeholder="Mobile number"
                 formControlName="mobileNumber"
                 required
                 pattern="^[0-9]{10}$" />
          <small *ngIf="addListingForm.get('mobileNumber')?.touched && addListingForm.get('mobileNumber')?.invalid" class="text-danger">
            Please enter a valid 10-digit mobile number.
          </small>
        </div>
        <div class="col-md-10">
          <label for="images" class="form-label">Upload Images</label>
          <input type="file"
                 class="form-control"
                 id="images"
                 (change)="onFileChange($event)"
                 formControlName="images"
                 multiple />
          <small *ngIf="addListingForm.get('images')?.touched && addListingForm.get('images')?.invalid" class="text-danger">
            Please select at least one image.
          </small>
        </div>
        <div class="row mt-3">
          <div class="col-md-2" *ngFor="let image of selectedImages; let i = index">
            <div class="card">
              <img [src]="image" class="card-img-top img-thumbnail" alt="Selected Image" />
              <div class="card-body text-center">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center">
        <button type="submit" class="btn btn-primary" style="background-color: black; color: #6D712E;">
          {{ isEditMode ? 'Update' : 'Submit' }}
        </button>
      </div>
    </form>
  </div>
  </div>
